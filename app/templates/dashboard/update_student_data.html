{% extends 'dashboard/base.html' %}

{% block title %}Update Student-EdFlow{% endblock %}

{% block page_heading %}Update Student Information{% endblock %}

{% block content %}

<div class="update-container">
    <div class="update-input-card dashboard-card">
        <h2><i class="fas fa-edit icon-purple"></i> Update Student Details</h2>
        <p>Edit the student's academic and personal information below and save your changes.</p>

        <form id="updateForm" class="update-form" method="post" action="{{ url_for('teacher.update_student', id=student._id) }}">
            <input type="hidden" name="student_id" value="{{ student._id }}">
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="studentID">Student ID:</label>
                    <input type="text" id="studentID" name="studentID" value="{{ student.studentID }}" disabled>
                </div>

                <div class="form-group">
                    <label for="studentName">Student Name:</label>
                    <input type="text" id="studentName" name="studentName" placeholder="e.g., Ali Khan" value="{{ student.name }}" required>
                </div>
                <div class="form-group">
                    <label for="age">Age:</label>
                    <input type="number" id="age" name="age" placeholder="e.g., 18" value="{{ student.ml_features.age }}" required>
                </div>
                
                <div class="form-group">
                    <label for="gender">Gender:</label>
                    <select id="gender" name="gender" required>
                        <option value="">Select Gender</option>
                        <option value="Male" {% if student.ml_features.gender == 'Male' %}selected{% endif %}>Male</option>
                        <option value="Female" {% if student.ml_features.gender == 'Female' %}selected{% endif %}>Female</option>
                        <option value="Other" {% if student.ml_features.gender == 'Other' %}selected{% endif %}>Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="parental_education">Parental Education:</label>
                    <select id="parental_education" name="parental_education" required>
                        <option value="">Select Option</option>
                        <option value="None" {% if student.ml_features.parental_education_level == 'None' %}selected{% endif %}>None</option>
                        <option value="High School school" {% if student.ml_features.parental_education_level == 'High School' %}selected{% endif %}>High School</option>
                        <option value="Bachelor" {% if student.ml_features.parental_education_level == 'Bachelor' %}selected{% endif %}>Bachelors</option>
                        <option value="Master" {% if student.ml_features.parental_education_level == 'Master' %}selected{% endif %}>Masters</option>
                        <option value="Phd" {% if student.ml_features.parental_education_level == 'Phd' %}selected{% endif %}>PhD</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="exam_score">Exam Score:</label>
                    <input type="number" id="exam_score" name="exam_score" min="0" max="100" placeholder="e.g., 95" value="{{ student.ml_features.exam_score }}" required>
                </div>
                <div class="form-group">
                    <label for="currentGPA">Current GPA (0.0-4.0):</label>
                    <input type="number" id="currentGPA" name="currentGPA" step="0.01" min="0" max="4" placeholder="e.g., 3.5" value="{{ student.ml_features.currentGPA }}" required>
                </div>
                
                <div class="form-group">
                    <label for="highSchoolGPA">High School GPA (0.0-4.0):</label>
                    <input type="number" id="highSchoolGPA" name="highSchoolGPA" step="0.01" min="0" max="4" placeholder="e.g., 3.5" value="{{ student.ml_features.highSchoolGPA }}" required>
                </div>
                <div class="form-group">
                    <label for="attendance">Attendance Rate (%):</label>
                    <input type="number" id="attendance" name="attendance" min="0" max="100" placeholder="e.g., 95" value="{{ student.ml_features.attendance }}" required>
                </div>

                <div class="form-group">
                    <label for="social_media_hours">Social Media Hours/day:</label>
                    <input type="number" id="social_media_hours" name="social_media_hours" step="0.01" placeholder="e.g., 5" value="{{ student.ml_features.social_media_time }}" required>
                </div>
                <div class="form-group">
                    <label for="netflix_hours">Netflix Hours/day:</label>
                    <input type="number" id="netflix_hours" name="netflix_hours" min="0" max="100" placeholder="e.g., 2" value="{{ student.ml_features.netflix_hours }}" required>
                </div>

                <div class="form-group">
                    <label for="diet_quality">Diet Quality:</label>
                    <select id="diet_quality" name="diet_quality" required>
                        <option value="">Select Option</option>
                        <option value="Poor" {% if student.ml_features.diet_quality == 'Poor' %}selected{% endif %}>Poor</option>
                        <option value="Average" {% if student.ml_features.diet_quality == 'Average' %}selected{% endif %}>Average</option>
                        <option value="Good" {% if student.ml_features.diet_quality == 'Good' %}selected{% endif %}>Good</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="exercise_frequency">Exercise Frequency:</label>
                    <select id="exercise_frequency" name="exercise_frequency" required>
                        <option value="">Select Option</option>
                        <option value="Low" {% if student.ml_features.exercise_frequency == 'Low' %}selected{% endif %}>Low</option>
                        <option value="Moderate" {% if student.ml_features.exercise_frequency == 'Moderate' %}selected{% endif %}>Moderate</option>
                        <option value="High" {% if student.ml_features.exercise_frequency == 'High' %}selected{% endif %}>High</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="sleep_hours">Sleep Hours/night:</label>
                    <input type="number" id="sleep_hours" name="sleep_hours" step="0.01" placeholder="e.g., 7.5" value="{{ student.ml_features.sleep_hours }}" required>
                </div>
                <div class="form-group">
                    <label for="internet_quality">Internet Quality:</label>
                    <select id="internet_quality" name="internet_quality" required>
                        <option value="">Select Option</option>
                        <option value="Poor" {% if student.ml_features.internet_quality == 'Poor' %}selected{% endif %}>Poor</option>
                        <option value="Average" {% if student.ml_features.internet_quality == 'Average' %}selected{% endif %}>Average</option>
                        <option value="Good" {% if student.ml_features.internet_quality == 'Good' %}selected{% endif %}>Good</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="mental_health_score">Mental Health Score (1-100):</label>
                    <input type="number" id="mental_health_score" name="mental_health_score" step="0.01" placeholder="e.g., 7" value="{{ student.ml_features.mental_health_score }}" required>
                </div>
                <div class="form-group">
                    <label for="part_time_job">Part Time Job:</label>
                    <select id="part_time_job" name="part_time_job" required>
                        <option value="">Select Option</option>
                        <option value="Yes" {% if student.ml_features.part_time_job == 'Yes' %}selected{% endif %}>Yes</option>
                        <option value="No" {% if student.ml_features.part_time_job == 'No' %}selected{% endif %}>No</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="extracurriculars">Extracurricular Activities:</label>
                    <select id="extracurriculars" name="extracurricular_activities" required>
                        <option value="">Select Option</option>
                        <option value="Yes" {% if student.ml_features.extracurricular_activities == 'Yes' %}selected{% endif %}>Yes</option>
                        <option value="No" {% if student.ml_features.extracurricular_activities == 'No' %}selected{% endif %}>No</option>
                    </select>
                </div>
            </div>

            <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Changes</button>
            <a href="{{ url_for('teacher.students_data') }}" class="btn btn-secondary"><i class="fas fa-undo"></i> Go Back</a>
        </form>
    </div>
</div>

{% endblock %}