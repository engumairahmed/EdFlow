{% extends "dashboard/base.html" %} {% block title %}Update Profile - EdFlow{%
endblock %} {% block page_heading %}Update Profile{% endblock %} {% block
content %}
<div class="dashboard-card content-section">
  <h3 class="section-title">Edit Your Personal Information</h3>
  <p>Please update your details below and save the changes.</p>

<form method="POST" action="{{ url_for('dashboard.update_profile') }}">
    
        <!-- Common Fields -->
        <div class="mb-3">
            <label>Full Name</label>
            <input type="text" class="form-control" name="full_name" value="{{ user.full_name }}" required>
        </div>
        <div class="mb-3">
            <label>Date of Birth</label>
            <input type="date" class="form-control" name="dob" value="{{ user.dob }}" required>
        </div>
        <div class="mb-3">
    <label>Gender</label><br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="gender" id="gender_male" value="Male"
               {% if user.gender == 'Male' %}checked{% endif %}>
        <label class="form-check-label" for="gender_male">Male</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="gender" id="gender_female" value="Female"
               {% if user.gender == 'Female' %}checked{% endif %}>
        <label class="form-check-label" for="gender_female">Female</label>
    </div>
</div>

        <div class="mb-3">
            <label>Address</label>
            <textarea class="form-control" name="address" required>{{ user.address }}</textarea>
        </div>
        <div class="mb-3">
            <label>Phone</label>
            <input type="text" class="form-control" name="phone" value="{{ user.phone }}" required>
        </div>

       
<!-- Role-Specific Fields -->
{% if role == 'student' %}
    <div class="mb-3">
        <label>Grade</label>
        <input type="text" class="form-control" name="grade" value="{{ user.grade }}" required>
    </div>
    <div class="mb-3">
        <label>Roll Number</label>
        <input type="text" class="form-control" name="roll_number" value="{{ user.roll_number }}"  required>
    </div>

{% elif role == 'teacher' %}
    <div class="mb-3">
        <label>Department</label>
        <input type="text" class="form-control" name="department" value="{{ user.department }}" required>
    </div>
    <div class="mb-3">
        <label>Qualification</label>
        <input type="text" class="form-control" name="qualification" value="{{ user.qualification }}" required>
    </div>

{% elif role == 'admin' %}
    <div class="mb-3">
        <label>Designation</label>
        <input type="text" class="form-control" name="designation" value="{{ user.designation }}" required>
    </div>
    <div class="mb-3">
        <label>Admin Code</label>
        <input type="text" class="form-control" name="admin_code" value="{{ user.admin_code }}" required>
    </div>
{% endif %}
    <div class="mt-3">
        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Changes</button>
        <a href="{{ url_for('dashboard.my_profile') }}" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Back to Profile</a>
    </div>
  </form>

</div>
{% endblock %}
